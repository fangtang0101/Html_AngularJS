<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ApplyWatch</title>
    <script type="text/javascript" src="angular.js"></script>
</head>
<body>
    <div ng-app="myApp">
        <!--apply-->
        <div ng-controller="oneCtrl" ng-click="show();">
            {{name}}
            {{age}}
        </div>

        <!--watch-->
        <!--
        <div ng-controller="CartController">
            <p>价格:<input type="text" ng-model="iphone.money"></p>
            <p>个数:<input type="text" ng-model="iphone.num"></p>
            <p>费用:<span>{{sum() | currency:'$'}}</span></p>
            <p>运费:<span>{{iphone.fre | currency:'$'}}</span></p>
            <p>总额:<span>{{sum() + iphone.fre | currency:'$'}}</span></p>
        </div>-->
    </div>

<script>
    var app = angular.module('myApp', []);

    //apply
    app.controller('oneCtrl', function($scope, $timeout) {
        setTimeout(function() {
            $scope.$apply(function() {
                $scope.name = 'Zwei';
            });
        }, 2000);

        $timeout(function() {
            $$scope.age = '20';
        }, 2000);

        $scope.name = 'Zhao';
        $scope.age = '25';

        $scope.show = function () {
            alert('aaaaaa');
            $scope.name = '点击后的name';
        }
    });

    //watch
    /*
    app.controller('CartController', function($scope) {
        $scope.iphone = {
            money: 5,
            num: 1,
            fre:10
        };
        $scope.sum = function () {
            return $scope.iphone.money * $scope.iphone.num;
        };
        $scope.$watch($scope.sum, function(newValue, oldValue) {
            console.log(newValue);
            console.log(oldValue);
            $scope.iphone.fre = newValue >= 100? 0 : 10;
        });
    });
    */
</script>
</body>
</html>